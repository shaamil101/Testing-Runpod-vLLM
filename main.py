from numpy import convolve
from openai import OpenAI
import os


endpoint_id = os.environ.get("RUNPOD_ENDPOINT_ID")
api_key = os.environ.get("RUNPOD_API_KEY")

print(endpoint_id)

client = OpenAI(
    base_url=f"https://api.runpod.ai/v2/{endpoint_id}/openai/v1",
    api_key=api_key,
)

print(api_key)

chat_completion = client.chat.completions.create(
    model="meta-llama/Meta-Llama-3-8B-Instruct",
    messages=[{"role": "user", "content": "What is the capital of the United States?"}]
    
)
# chat_completion = client.chat.completions.create(
#       model="meta-llama/Meta-Llama-3-8B-Instruct",
#       messages=[
#             {
#                   "role": "user",
#                   "content": """What is the capital of the United States?"""
#             },
#             {
#                   "role": "user",
#                   "content": """You are an AI that only generates an array of strings for recommended places based on user preferences. You will be given two JSON objects: one containing details about places from the Google Places API, and another containing user responses to a survey about their preferences.

# Places:
# [{"name":"Fairmont San Francisco","rating":4.5,"types":["lodging","restaurant","point_of_interest","food","establishment"]},{"name":"Perbacco","price_level":3,"rating":4.4,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Jasper's Corner Tap and Kitchen","price_level":2,"rating":3.8,"types":["night_club","bar","restaurant","point_of_interest","food","establishment"]},{"name":"Wayfare Tavern","price_level":3,"rating":4.5,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Boulevard","price_level":4,"rating":4.6,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"The Cavalier","price_level":3,"rating":4.4,"types":["restaurant","point_of_interest","food","establishment"]},{"name":"The Stinking Rose","price_level":3,"rating":4.2,"types":["restaurant","point_of_interest","food","establishment"]},{"name":"Marlowe","price_level":2,"rating":4.4,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"E&O Kitchen and Bar","price_level":2,"rating":4.3,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Brenda's French Soul Food","price_level":2,"rating":4.5,"types":["restaurant","point_of_interest","food","establishment"]},{"name":"The Cheesecake Factory","price_level":2,"rating":3.8,"types":["restaurant","meal_takeaway","bakery","store","point_of_interest","food","establishment"]},{"name":"Tropisueno","price_level":2,"rating":4.3,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Amber India Restaurant","price_level":3,"rating":4.2,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"The Big 4","price_level":3,"rating":4.4,"types":["restaurant","point_of_interest","food","establishment"]},{"name":"John's Grill","price_level":3,"rating":4.4,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Tadich Grill","price_level":3,"rating":4.5,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"One Market Restaurant/Mark 'n Mike's NY Style Deli","price_level":3,"rating":4.3,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Gold Club","price_level":2,"rating":3.4,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"The Irish Bank","price_level":2,"rating":4.3,"types":["bar","restaurant","point_of_interest","food","establishment"]},{"name":"Kokkari Estiatorio","price_level":4,"rating":4.7,"types":["meal_takeaway","restaurant","point_of_interest","food","establishment"]},{"name":"Per Diem - Financial District","price_level":2,"rating":4.3,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Le Colonial","price_level":3,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Alexander's Steakhouse","price_level":4,"rating":4.5,"types":["meal_takeaway","bar","restaurant","food","point_of_interest","establishment"]},{"name":"Joyride Pizza - Yerba Buena Gardens","price_level":2,"rating":4.3,"types":["meal_delivery","meal_takeaway","bar","restaurant","food","point_of_interest","establishment"]},{"name":"Yank Sing (Stevenson St.)","price_level":3,"rating":4.3,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Morton's The Steakhouse","price_level":4,"rating":4.2,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Ajisen Ramen","price_level":1,"rating":4,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Town Hall Restaurant","price_level":3,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Johnny Foley's Irish House","price_level":2,"rating":4.4,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Lao Table","price_level":2,"rating":4.2,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"ROOFTOP 25","price_level":3,"rating":4.3,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Parallel 37","price_level":4,"rating":4.5,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Ryoko's Japanese Restaurant & Bar","price_level":2,"rating":4.4,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"The Harlequin","price_level":2,"rating":4.2,"types":["night_club","bar","restaurant","food","point_of_interest","establishment"]},{"name":"Top of the Mark","price_level":4,"rating":4.4,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"The City Club of San Francisco","price_level":3,"rating":4.6,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Sears Fine Food","price_level":2,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Caf√© de la Presse","price_level":2,"rating":4.1,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Cotogna","price_level":3,"rating":4.5,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Schroeder's","price_level":2,"rating":4.2,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Bix","price_level":3,"rating":4.5,"types":["night_club","bar","restaurant","food","point_of_interest","establishment"]},{"name":"Royal Exchange Restaurant","price_level":2,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Fang","price_level":2,"rating":4.2,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Quince","price_level":4,"rating":4.7,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"House of Nanking","price_level":2,"rating":4.2,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Golden Gate Tap Room","price_level":2,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"B","price_level":2,"rating":4.2,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"LUCE","price_level":3,"rating":4.4,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Tommy's Joynt","price_level":1,"rating":4.4,"types":["restaurant","bar","food","point_of_interest","establishment"]},{"name":"Boudin Bakery Cafe","price_level":2,"rating":4,"types":["bakery","restaurant","food","store","point_of_interest","establishment"]},{"name":"Mel's Drive-In","price_level":2,"rating":4.1,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"Palio","price_level":2,"rating":4.4,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"The Cigar Bar & Grill","price_level":2,"rating":4.4,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Prospect","price_level":3,"rating":4.4,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"City Chopsticks","price_level":1,"rating":4,"types":["restaurant","food","point_of_interest","establishment"]},{"name":"LAUREL COURT RESTAURANT","price_level":3,"rating":3.8,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"The Hotel Utah Saloon","price_level":1,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]},{"name":"Osha Thai Restaurant and Bar (Embarcadero)","price_level":2,"rating":4.2,"types":["night_club","meal_takeaway","bar","restaurant","food","point_of_interest","establishment"]},{"name":"Biscuits & Blues","price_level":2,"rating":4.4,"types":["night_club","bar","restaurant","food","point_of_interest","establishment"]},{"name":"83 Proof","price_level":2,"rating":4.3,"types":["bar","restaurant","food","point_of_interest","establishment"]}]
  
# Survey responses:
# ["I want to go to a restaurant: true","I want spicy food: true","I want asian food: true","I want southeast asian food: true","I want thai food: true","I want drinks after dinner: true","I want to go to a club: true","I want somewhere to dance: true","I want somewhere with edm vibes: true","I want somewhere fancy: true","I want somewhere expensive: true"]

# Using these JSON objects, generate an array of ten unique places where each string is a place name that matches the user's preferences. The array should include only those 10 unique places that meet the criteria specified in the survey responses.

# Using the reviews and details provided, only generate an array in this format ["Place 1 Name", "Place 2 Name", ..., "Place 10 Name"] that includes the names of the ten places that best match the user's preferences. I just need the array so I can save it to a variable."""
#             }
#       ]
# )

# print(chat_completion)